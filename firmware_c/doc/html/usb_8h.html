<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ty71m: usb.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ty71m
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('usb_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">usb.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>handles usb hardware related stuff  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;stddef.h&gt;</code><br />
<code>#include &quot;nvic.h&quot;</code><br />
<code>#include &quot;backlight.h&quot;</code><br />
<code>#include &quot;<a class="el" href="usb__ephandler_8h_source.html">usb_ephandler.h</a>&quot;</code><br />
<code>#include &quot;usb_descriptors.h&quot;</code><br />
</div>
<p><a href="usb_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_u_s_b__setup__packet.html">USB_setup_packet</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_u_s_b___e_p___c_o_n_f_i_g.html">USB_EP_CONFIG</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">stucture which holds the current state information for one endpoint  <a href="struct_u_s_b___e_p___c_o_n_f_i_g.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a5874fe7e9f6d29f5ef3bc1ca1e89c4eb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb_8h.html#a5874fe7e9f6d29f5ef3bc1ca1e89c4eb">no_bytes_left</a>&#160;&#160;&#160;-1</td></tr>
<tr class="separator:a5874fe7e9f6d29f5ef3bc1ca1e89c4eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30b749e83f124bffc9fc30fe93bc9c84"><td class="memItemLeft" align="right" valign="top"><a id="a30b749e83f124bffc9fc30fe93bc9c84"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>USB_SRAM_SETUP_SIZE</b>&#160;&#160;&#160;0x08</td></tr>
<tr class="separator:a30b749e83f124bffc9fc30fe93bc9c84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a0ee14692432aebf782ea42bab912ab"><td class="memItemLeft" align="right" valign="top"><a id="a2a0ee14692432aebf782ea42bab912ab"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>USB_SRAM_ENDP_SIZE</b>&#160;&#160;&#160;0x40</td></tr>
<tr class="separator:a2a0ee14692432aebf782ea42bab912ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a273bce84b5a0481e02caf10cd61301b6"><td class="memItemLeft" align="right" valign="top"><a id="a273bce84b5a0481e02caf10cd61301b6"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>USB_BA</b>&#160;&#160;&#160;0x40060000</td></tr>
<tr class="separator:a273bce84b5a0481e02caf10cd61301b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a7f266e38baa8ede8a3b11291a49ad9"><td class="memItemLeft" align="right" valign="top"><a id="a5a7f266e38baa8ede8a3b11291a49ad9"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>USB_SRAM_SETUP_START</b>&#160;&#160;&#160;(*((uint32_t*)(USB_BA+0x100)))</td></tr>
<tr class="separator:a5a7f266e38baa8ede8a3b11291a49ad9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22d716faa3143aaf48c81ee44753a402"><td class="memItemLeft" align="right" valign="top"><a id="a22d716faa3143aaf48c81ee44753a402"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>dontChangeAddress</b>&#160;&#160;&#160;-1</td></tr>
<tr class="separator:a22d716faa3143aaf48c81ee44753a402"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0b5feb283e5d49296a9c8374f4ab049"><td class="memItemLeft" align="right" valign="top"><a id="ac0b5feb283e5d49296a9c8374f4ab049"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>USB_SRAM_EP_START</b>(epnum)&#160;&#160;&#160;(*((uint32_t*)(USB_BA+0x100+USB_SRAM_SETUP_SIZE+USB_SRAM_ENDP_SIZE*epnum)))</td></tr>
<tr class="separator:ac0b5feb283e5d49296a9c8374f4ab049"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0a3a067edaf82361bc8973ad4e846f6"><td class="memItemLeft" align="right" valign="top"><a id="ab0a3a067edaf82361bc8973ad4e846f6"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>USB_SRAM_EP_ADDR</b>(epnum)&#160;&#160;&#160;((uint8_t*)(USB_BA+0x100+USB_SRAM_SETUP_SIZE+USB_SRAM_ENDP_SIZE*epnum))</td></tr>
<tr class="separator:ab0a3a067edaf82361bc8973ad4e846f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49f4c653237bf9573c2646a846bc3cf4"><td class="memItemLeft" align="right" valign="top"><a id="a49f4c653237bf9573c2646a846bc3cf4"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>USB_MAXPLD</b>(epnum)&#160;&#160;&#160;(*((uint32_t*)(USB_BA+0x504+((0x000000ff&amp;epnum)&lt;&lt;4))))</td></tr>
<tr class="separator:a49f4c653237bf9573c2646a846bc3cf4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfd039e21627cf7e83d8e944f21c65a9"><td class="memItemLeft" align="right" valign="top"><a id="acfd039e21627cf7e83d8e944f21c65a9"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>USB_EPSTS</b>&#160;&#160;&#160;(*((uint32_t*)(USB_BA+0x00c)))</td></tr>
<tr class="separator:acfd039e21627cf7e83d8e944f21c65a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a015fba88dddf905a6da825b100ca3c7c"><td class="memItemLeft" align="right" valign="top"><a id="a015fba88dddf905a6da825b100ca3c7c"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>USB_INTEN</b>&#160;&#160;&#160;(*((uint32_t*)(USB_BA+0x000)))</td></tr>
<tr class="separator:a015fba88dddf905a6da825b100ca3c7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1f0c0b82f98dc97b20057530aaa10a9"><td class="memItemLeft" align="right" valign="top"><a id="aa1f0c0b82f98dc97b20057530aaa10a9"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>USB_INTSTS</b>&#160;&#160;&#160;(*((uint32_t*)(USB_BA+0x004)))</td></tr>
<tr class="separator:aa1f0c0b82f98dc97b20057530aaa10a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad92d008d03f5d8f09f16181e9e52e876"><td class="memItemLeft" align="right" valign="top"><a id="ad92d008d03f5d8f09f16181e9e52e876"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>USB_FADDR</b>&#160;&#160;&#160;(*((uint32_t*)(USB_BA+0x008)))</td></tr>
<tr class="separator:ad92d008d03f5d8f09f16181e9e52e876"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0f8834f49b5648f2a19a2c1f11a5205"><td class="memItemLeft" align="right" valign="top"><a id="af0f8834f49b5648f2a19a2c1f11a5205"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>USB_ATTR</b>&#160;&#160;&#160;(*((uint32_t*)(USB_BA+0x010)))</td></tr>
<tr class="separator:af0f8834f49b5648f2a19a2c1f11a5205"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af27e5aa66d797db9a1a40fcdcc215762"><td class="memItemLeft" align="right" valign="top"><a id="af27e5aa66d797db9a1a40fcdcc215762"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>USB_FLDET</b>&#160;&#160;&#160;(*((uint32_t*)(USB_BA+0x014)))</td></tr>
<tr class="separator:af27e5aa66d797db9a1a40fcdcc215762"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6ca1ca949afdb978dfdc652da5043e8"><td class="memItemLeft" align="right" valign="top"><a id="af6ca1ca949afdb978dfdc652da5043e8"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>USB_BUFFSEG_SETUP</b>&#160;&#160;&#160;(*((uint32_t*)(USB_BA+0x018)))</td></tr>
<tr class="separator:af6ca1ca949afdb978dfdc652da5043e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9509a8075880dddd55730a5e0ba21731"><td class="memItemLeft" align="right" valign="top"><a id="a9509a8075880dddd55730a5e0ba21731"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>USB_DRVSE0</b>&#160;&#160;&#160;(*((uint32_t*)(USB_BA+0x090)))</td></tr>
<tr class="separator:a9509a8075880dddd55730a5e0ba21731"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc808dcd59a4cc5284ca91ebf949af46"><td class="memItemLeft" align="right" valign="top"><a id="abc808dcd59a4cc5284ca91ebf949af46"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>USB_BUFFSEG</b>(epnum)&#160;&#160;&#160;(*((uint32_t*)(USB_BA+0x500+(epnum&lt;&lt;4))))</td></tr>
<tr class="separator:abc808dcd59a4cc5284ca91ebf949af46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7741b939b8d8d9e1b99affb6499e036d"><td class="memItemLeft" align="right" valign="top"><a id="a7741b939b8d8d9e1b99affb6499e036d"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>USB_CFG</b>(epnum)&#160;&#160;&#160;(*((uint32_t*)(USB_BA+0x508+(epnum&lt;&lt;4))))</td></tr>
<tr class="separator:a7741b939b8d8d9e1b99affb6499e036d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94a2dc7be1fd9916360b117a79102857"><td class="memItemLeft" align="right" valign="top"><a id="a94a2dc7be1fd9916360b117a79102857"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>USB_CFGP</b>(epnum)&#160;&#160;&#160;(*((uint32_t*)(USB_BA+0x50C+(epnum&lt;&lt;4))))</td></tr>
<tr class="separator:a94a2dc7be1fd9916360b117a79102857"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d32995a857a91c2a978e96acd04b0db"><td class="memItemLeft" align="right" valign="top"><a id="a4d32995a857a91c2a978e96acd04b0db"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>USB_is_attached_to_host</b>()&#160;&#160;&#160;(USB_FLDET&amp;0x00000001)</td></tr>
<tr class="separator:a4d32995a857a91c2a978e96acd04b0db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade72411252b4e70d6afbec3c58568f90"><td class="memItemLeft" align="right" valign="top"><a id="ade72411252b4e70d6afbec3c58568f90"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>USB_set_ep_stall_bit</b>(epnum)&#160;&#160;&#160;(USB_CFGP(epnum)|=0x00000002)</td></tr>
<tr class="separator:ade72411252b4e70d6afbec3c58568f90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c048dae33b901c370445e88bdc1f603"><td class="memItemLeft" align="right" valign="top"><a id="a3c048dae33b901c370445e88bdc1f603"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>USB_clear_ep_stall_bit</b>(epnum)&#160;&#160;&#160;(USB_CFGP(epnum)&amp;=0xfffffffd)</td></tr>
<tr class="separator:a3c048dae33b901c370445e88bdc1f603"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c2f8056e05de0dd2402ab719eae17b8"><td class="memItemLeft" align="right" valign="top"><a id="a3c2f8056e05de0dd2402ab719eae17b8"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>USB_get_ep_stall_bit</b>(epnum)&#160;&#160;&#160;((USB_CFGP(epnum)&amp;0x00000002)&gt;&gt;1)</td></tr>
<tr class="separator:a3c2f8056e05de0dd2402ab719eae17b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d00825c4f2ffe09cfefe9209c93feaa"><td class="memItemLeft" align="right" valign="top"><a id="a4d00825c4f2ffe09cfefe9209c93feaa"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>USB_stop_transOrRec</b>(epnum)&#160;&#160;&#160;USB_CFGP(epnum)|=0x00000001</td></tr>
<tr class="separator:a4d00825c4f2ffe09cfefe9209c93feaa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5c6a54b056bc6c5013bf98a9dc54af3"><td class="memItemLeft" align="right" valign="top"><a id="ae5c6a54b056bc6c5013bf98a9dc54af3"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>USB_start_reset</b>()&#160;&#160;&#160;IPRSTC2|=(1&lt;&lt;27)</td></tr>
<tr class="separator:ae5c6a54b056bc6c5013bf98a9dc54af3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad50c0086224eabd9ebd8416f0f6798d1"><td class="memItemLeft" align="right" valign="top"><a id="ad50c0086224eabd9ebd8416f0f6798d1"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>USB_end_reset</b>()&#160;&#160;&#160;IPRSTC2&amp;=~(1&lt;&lt;27)</td></tr>
<tr class="separator:ad50c0086224eabd9ebd8416f0f6798d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5da3c3302d24bd171b11c7e3abf0e2c1"><td class="memItemLeft" align="right" valign="top"><a id="a5da3c3302d24bd171b11c7e3abf0e2c1"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>USB_is_attached</b>&#160;&#160;&#160;(USB_FLDET&amp;0x00000001)</td></tr>
<tr class="separator:a5da3c3302d24bd171b11c7e3abf0e2c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab1abb656225ad9eb1828a261589b1d3"><td class="memItemLeft" align="right" valign="top"><a id="aab1abb656225ad9eb1828a261589b1d3"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>USB_INT_EP_MASK</b>(epnum)&#160;&#160;&#160;(1&lt;&lt;(16+epnum))</td></tr>
<tr class="separator:aab1abb656225ad9eb1828a261589b1d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c279e44ccaca25710cf58eb1bc54f7b"><td class="memItemLeft" align="right" valign="top"><a id="a3c279e44ccaca25710cf58eb1bc54f7b"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>USB_INT_SETUP_MASK</b>&#160;&#160;&#160;(1&lt;&lt;31)</td></tr>
<tr class="separator:a3c279e44ccaca25710cf58eb1bc54f7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b614444a1c4197302d8c093d31f27b7"><td class="memItemLeft" align="right" valign="top"><a id="a5b614444a1c4197302d8c093d31f27b7"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>USB_INT_FLDET_MASK</b>&#160;&#160;&#160;(1&lt;&lt;2)</td></tr>
<tr class="separator:a5b614444a1c4197302d8c093d31f27b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7667ca4f6b591305b7aac3094c458d6"><td class="memItemLeft" align="right" valign="top"><a id="af7667ca4f6b591305b7aac3094c458d6"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>USB_INT_USB_MASK</b>&#160;&#160;&#160;(1&lt;&lt;1)</td></tr>
<tr class="separator:af7667ca4f6b591305b7aac3094c458d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd111cb245c469815a8b59d75fc0076b"><td class="memItemLeft" align="right" valign="top"><a id="acd111cb245c469815a8b59d75fc0076b"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>USB_INT_BUS_MASK</b>&#160;&#160;&#160;(1&lt;&lt;0)</td></tr>
<tr class="separator:acd111cb245c469815a8b59d75fc0076b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5aee960f0f10eea9ca9fbf6ac732eec1"><td class="memItemLeft" align="right" valign="top"><a id="a5aee960f0f10eea9ca9fbf6ac732eec1"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>wLength</b>&#160;&#160;&#160;((((uint32_t)(sup-&gt;wLengthHigh))&lt;&lt;8)+sup-&gt;wLengthLow)</td></tr>
<tr class="separator:a5aee960f0f10eea9ca9fbf6ac732eec1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14146b9e4fb5f2c38bd77d6bd166356a"><td class="memItemLeft" align="right" valign="top"><a id="a14146b9e4fb5f2c38bd77d6bd166356a"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>wValue</b>&#160;&#160;&#160;((((uint32_t)(sup-&gt;wValueHigh))&lt;&lt;8)+sup-&gt;wValueLow)</td></tr>
<tr class="separator:a14146b9e4fb5f2c38bd77d6bd166356a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a5215c27575be1a3f7f0c32c76eca613c"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct_u_s_b__setup__packet.html">USB_setup_packet</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb_8h.html#a5215c27575be1a3f7f0c32c76eca613c">USB_setup_packet</a></td></tr>
<tr class="separator:a5215c27575be1a3f7f0c32c76eca613c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15aaf48afeb64c03c39505af3a41542a"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct_u_s_b___e_p___c_o_n_f_i_g.html">USB_EP_CONFIG</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb_8h.html#a15aaf48afeb64c03c39505af3a41542a">USB_EP_CONFIG</a></td></tr>
<tr class="memdesc:a15aaf48afeb64c03c39505af3a41542a"><td class="mdescLeft">&#160;</td><td class="mdescRight">stucture which holds the current state information for one endpoint  <a href="usb_8h.html#a15aaf48afeb64c03c39505af3a41542a">More...</a><br /></td></tr>
<tr class="separator:a15aaf48afeb64c03c39505af3a41542a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:adf764cbdea00d65edcd07bb9953ad2b7"><td class="memItemLeft" align="right" valign="top"><a id="adf764cbdea00d65edcd07bb9953ad2b7"></a>enum &#160;</td><td class="memItemRight" valign="bottom">{ <b>EP_IN</b> =0b10, 
<b>EP_OUT</b> =0b01, 
<b>EP_DISABELED</b> =0b00
 }</td></tr>
<tr class="separator:adf764cbdea00d65edcd07bb9953ad2b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99fb83031ce9923c84392b4e92f956b5"><td class="memItemLeft" align="right" valign="top"><a id="a99fb83031ce9923c84392b4e92f956b5"></a>enum &#160;</td><td class="memItemRight" valign="bottom">{ <b>EP_IS_ISOCHR</b> =1, 
<b>EP_NOT_ISOCHR</b> =0
 }</td></tr>
<tr class="separator:a99fb83031ce9923c84392b4e92f956b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc6126af1d45847bc59afa0aa3216b04"><td class="memItemLeft" align="right" valign="top"><a id="abc6126af1d45847bc59afa0aa3216b04"></a>enum &#160;</td><td class="memItemRight" valign="bottom">{ <b>USBDeviceStateDefault</b> =1, 
<b>USBDeviceStateAddress</b> =2, 
<b>USBDeviceStateConfigured</b> =3, 
<b>USBDeviceStateSuspended</b> =4
 }</td></tr>
<tr class="separator:abc6126af1d45847bc59afa0aa3216b04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc29c2ff13d900c2f185ee95427fb06c"><td class="memItemLeft" align="right" valign="top"><a id="adc29c2ff13d900c2f185ee95427fb06c"></a>enum &#160;</td><td class="memItemRight" valign="bottom">{ <b>USB_ATTR_TIMEOUT_MASK</b> =(1&lt;&lt;3), 
<b>USB_ATTR_RESUME_MASK</b> =(1&lt;&lt;2), 
<b>USB_ATTR_SUSPEND_MASK</b> =(1&lt;&lt;1), 
<b>USB_ATTR_USBRST_MASK</b> =(1&lt;&lt;0)
 }</td></tr>
<tr class="separator:adc29c2ff13d900c2f185ee95427fb06c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61dadd085c1777f559549e05962b2c9e"><td class="memItemLeft" align="right" valign="top"><a id="a61dadd085c1777f559549e05962b2c9e"></a>enum &#160;</td><td class="memItemRight" valign="bottom">{ <br />
&#160;&#160;<b>USB_EPSTS_INACK</b> =0x000, 
<b>USB_EPSTS_INNAK</b> =0x001, 
<b>USB_EPSTS_OUTDATA0</b> =0x010, 
<b>USB_EPSTS_SETUPACK</b> =0x011, 
<br />
&#160;&#160;<b>USB_EPSTS_OUTDATA1</b> =0x110, 
<b>USB_EPSTS_ISOCHREND</b> =0x111
<br />
 }</td></tr>
<tr class="separator:a61dadd085c1777f559549e05962b2c9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a9457b101d7ac1c32da4de6f3a7e2cfc5"><td class="memItemLeft" align="right" valign="top"><a id="a9457b101d7ac1c32da4de6f3a7e2cfc5"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>USB_clear_se0</b> ()</td></tr>
<tr class="separator:a9457b101d7ac1c32da4de6f3a7e2cfc5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7b44f92890da9de9607c7537960d42a"><td class="memItemLeft" align="right" valign="top"><a id="af7b44f92890da9de9607c7537960d42a"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>USB_init</b> ()</td></tr>
<tr class="separator:af7b44f92890da9de9607c7537960d42a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbaeef58c99804e85fce95570ea58af3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb_8h.html#adbaeef58c99804e85fce95570ea58af3">USB_process_rx_tx</a> (uint32_t epnum)</td></tr>
<tr class="memdesc:adbaeef58c99804e85fce95570ea58af3"><td class="mdescLeft">&#160;</td><td class="mdescRight">function that handles passing data from and to the endpoint  <a href="usb_8h.html#adbaeef58c99804e85fce95570ea58af3">More...</a><br /></td></tr>
<tr class="separator:adbaeef58c99804e85fce95570ea58af3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36119ca946f42c798f9221d97d53d95c"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb_8h.html#a36119ca946f42c798f9221d97d53d95c">USB_initiate_send</a> (uint32_t epnum, uint8_t *data, uint32_t packetLength)</td></tr>
<tr class="memdesc:a36119ca946f42c798f9221d97d53d95c"><td class="mdescLeft">&#160;</td><td class="mdescRight">used to prepare sending data to the host The data is sent when the host starts polling the endpoint  <a href="usb_8h.html#a36119ca946f42c798f9221d97d53d95c">More...</a><br /></td></tr>
<tr class="separator:a36119ca946f42c798f9221d97d53d95c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acdb32d52f8fe4a7d197483f6af2ddfdf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb_8h.html#acdb32d52f8fe4a7d197483f6af2ddfdf">USB_initiate_send_ctrl_zerobyte</a> ()</td></tr>
<tr class="memdesc:acdb32d52f8fe4a7d197483f6af2ddfdf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used to prepare sending an zerobytepacket on the ctrl_in endpoint to the host.  <a href="usb_8h.html#acdb32d52f8fe4a7d197483f6af2ddfdf">More...</a><br /></td></tr>
<tr class="separator:acdb32d52f8fe4a7d197483f6af2ddfdf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad24c511da58c3f9cbae860b1f5db68a7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb_8h.html#ad24c511da58c3f9cbae860b1f5db68a7">USB_initiate_recieve</a> (uint32_t epnum, uint8_t *data, uint32_t MaxStorageSpace, void(*callbFuncP)())</td></tr>
<tr class="memdesc:ad24c511da58c3f9cbae860b1f5db68a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used to prepare reception of data at an usb endpoint.  <a href="usb_8h.html#ad24c511da58c3f9cbae860b1f5db68a7">More...</a><br /></td></tr>
<tr class="separator:ad24c511da58c3f9cbae860b1f5db68a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51d175f45484fe97a62f95643940007e"><td class="memItemLeft" align="right" valign="top"><a id="a51d175f45484fe97a62f95643940007e"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>USB_initiate_recieve_ctrl_zerobyte</b> ()</td></tr>
<tr class="separator:a51d175f45484fe97a62f95643940007e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95a0c237b451615bb4b7ef8a8dce8a46"><td class="memItemLeft" align="right" valign="top"><a id="a95a0c237b451615bb4b7ef8a8dce8a46"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>USBD_IRQHandler</b> (void)</td></tr>
<tr class="separator:a95a0c237b451615bb4b7ef8a8dce8a46"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ab7c011bd0989fdadba9768f10d6fd654"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_u_s_b___e_p___c_o_n_f_i_g.html">USB_EP_CONFIG</a>&#160;</td><td class="memItemRight" valign="bottom"><b>EP0_CFG</b></td></tr>
<tr class="separator:ab7c011bd0989fdadba9768f10d6fd654"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab136567e64c237a5e39d98ea9c91627f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_u_s_b___e_p___c_o_n_f_i_g.html">USB_EP_CONFIG</a>&#160;</td><td class="memItemRight" valign="bottom"><b>EP1_CFG</b></td></tr>
<tr class="separator:ab136567e64c237a5e39d98ea9c91627f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0dea29d4b3411832bd9db8c06b432777"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_u_s_b___e_p___c_o_n_f_i_g.html">USB_EP_CONFIG</a>&#160;</td><td class="memItemRight" valign="bottom"><b>EP2_CFG</b></td></tr>
<tr class="separator:a0dea29d4b3411832bd9db8c06b432777"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91914717e5dfc12c2891378a63f689f7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_u_s_b___e_p___c_o_n_f_i_g.html">USB_EP_CONFIG</a>&#160;</td><td class="memItemRight" valign="bottom"><b>EP3_CFG</b></td></tr>
<tr class="separator:a91914717e5dfc12c2891378a63f689f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42dd116d43b23e0c949d5877bc94a5cc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_u_s_b___e_p___c_o_n_f_i_g.html">USB_EP_CONFIG</a>&#160;</td><td class="memItemRight" valign="bottom"><b>EP4_CFG</b></td></tr>
<tr class="separator:a42dd116d43b23e0c949d5877bc94a5cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac731b9779abfa39f9ee4c42cb12e54a7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_u_s_b___e_p___c_o_n_f_i_g.html">USB_EP_CONFIG</a>&#160;</td><td class="memItemRight" valign="bottom"><b>EP5_CFG</b></td></tr>
<tr class="separator:ac731b9779abfa39f9ee4c42cb12e54a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a714503d9b5e63114c8d117acb59c6ffa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_u_s_b___e_p___c_o_n_f_i_g.html">USB_EP_CONFIG</a>&#160;</td><td class="memItemRight" valign="bottom"><b>EP6_CFG</b></td></tr>
<tr class="separator:a714503d9b5e63114c8d117acb59c6ffa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfdecc2caebc26a789336f47ac494dd2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_u_s_b___e_p___c_o_n_f_i_g.html">USB_EP_CONFIG</a>&#160;</td><td class="memItemRight" valign="bottom"><b>EP7_CFG</b></td></tr>
<tr class="separator:acfdecc2caebc26a789336f47ac494dd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fd4b65900e07a9f8a1ec22535c4554b"><td class="memItemLeft" align="right" valign="top"><a id="a5fd4b65900e07a9f8a1ec22535c4554b"></a>
<a class="el" href="struct_u_s_b__setup__packet.html">USB_setup_packet</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>sup</b> =(<a class="el" href="struct_u_s_b__setup__packet.html">USB_setup_packet</a>*)&amp;USB_SRAM_SETUP_START</td></tr>
<tr class="separator:a5fd4b65900e07a9f8a1ec22535c4554b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3d88634f42ac0d3f3ae3825c5ce55ef"><td class="memItemLeft" align="right" valign="top"><a id="aa3d88634f42ac0d3f3ae3825c5ce55ef"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><b>deviceState</b> =USBDeviceStateDefault</td></tr>
<tr class="separator:aa3d88634f42ac0d3f3ae3825c5ce55ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68fe286cbd3b5f16bae896074bb6ed8c"><td class="memItemLeft" align="right" valign="top"><a id="a68fe286cbd3b5f16bae896074bb6ed8c"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><b>wakeupHostEnabeled</b> =1</td></tr>
<tr class="separator:a68fe286cbd3b5f16bae896074bb6ed8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36ba777e45109b013d60e18aa900ee58"><td class="memItemLeft" align="right" valign="top"><a id="a36ba777e45109b013d60e18aa900ee58"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><b>activeConfiguration</b> =0</td></tr>
<tr class="separator:a36ba777e45109b013d60e18aa900ee58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab127c6893be211b95b83bf0f6e15db02"><td class="memItemLeft" align="right" valign="top"><a id="ab127c6893be211b95b83bf0f6e15db02"></a>
int8_t&#160;</td><td class="memItemRight" valign="bottom"><b>changeAddressTo</b> =dontChangeAddress</td></tr>
<tr class="separator:ab127c6893be211b95b83bf0f6e15db02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb3498c33805026f59ed07eaa28297c0"><td class="memItemLeft" align="right" valign="top"><a id="adb3498c33805026f59ed07eaa28297c0"></a>
<a class="el" href="struct_u_s_b___e_p___c_o_n_f_i_g.html">USB_EP_CONFIG</a>&#160;</td><td class="memItemRight" valign="bottom"><b>EP_CONFIG_ARRAY</b> [8]</td></tr>
<tr class="separator:adb3498c33805026f59ed07eaa28297c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6dc514812507ecbfc51079e547a2119a"><td class="memItemLeft" align="right" valign="top"><a id="a6dc514812507ecbfc51079e547a2119a"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>USB_CTRL_IN</b> =0</td></tr>
<tr class="separator:a6dc514812507ecbfc51079e547a2119a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ea8adc5508fab4b37b93c80d5b568f7"><td class="memItemLeft" align="right" valign="top"><a id="a7ea8adc5508fab4b37b93c80d5b568f7"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>USB_CTRL_OUT</b> =0</td></tr>
<tr class="separator:a7ea8adc5508fab4b37b93c80d5b568f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ce91b5c8b597475a3063cc9614c5d95"><td class="memItemLeft" align="right" valign="top"><a id="a7ce91b5c8b597475a3063cc9614c5d95"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>USB_NUM_OF_DEFINED_ENDP</b> =0</td></tr>
<tr class="separator:a7ce91b5c8b597475a3063cc9614c5d95"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>handles usb hardware related stuff </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a5874fe7e9f6d29f5ef3bc1ca1e89c4eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5874fe7e9f6d29f5ef3bc1ca1e89c4eb">&#9670;&nbsp;</a></span>no_bytes_left</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define no_bytes_left&#160;&#160;&#160;-1</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Used for sending large packets which requiere multiple transfers, but zero length packets also need support. So the code when a multi transfer has no data left is this. </p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a15aaf48afeb64c03c39505af3a41542a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15aaf48afeb64c03c39505af3a41542a">&#9670;&nbsp;</a></span>USB_EP_CONFIG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct_u_s_b___e_p___c_o_n_f_i_g.html">USB_EP_CONFIG</a> <a class="el" href="struct_u_s_b___e_p___c_o_n_f_i_g.html">USB_EP_CONFIG</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>stucture which holds the current state information for one endpoint </p>

</div>
</div>
<a id="a5215c27575be1a3f7f0c32c76eca613c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5215c27575be1a3f7f0c32c76eca613c">&#9670;&nbsp;</a></span>USB_setup_packet</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct_u_s_b__setup__packet.html">USB_setup_packet</a> <a class="el" href="struct_u_s_b__setup__packet.html">USB_setup_packet</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>used in order to access the bytes of the setup packet in the buffer of the usb ctrl out endpoint in a better readable way. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ad24c511da58c3f9cbae860b1f5db68a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad24c511da58c3f9cbae860b1f5db68a7">&#9670;&nbsp;</a></span>USB_initiate_recieve()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void USB_initiate_recieve </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>epnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>MaxStorageSpace</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)()&#160;</td>
          <td class="paramname"><em>callbFuncP</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Used to prepare reception of data at an usb endpoint. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">epnum</td><td>Endpoint number on which to recieve data </td></tr>
    <tr><td class="paramname">data</td><td>Pointer to the location where the recieved data get's stored </td></tr>
    <tr><td class="paramname">MaxStorageSpace</td><td>Maximum number of bytes that the storage location can hold (savety check) </td></tr>
    <tr><td class="paramname">callbFuncP</td><td>Function pointer which get's called after all data has been recieved </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a36119ca946f42c798f9221d97d53d95c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36119ca946f42c798f9221d97d53d95c">&#9670;&nbsp;</a></span>USB_initiate_send()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t USB_initiate_send </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>epnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>packetLength</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>used to prepare sending data to the host The data is sent when the host starts polling the endpoint </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">epnum</td><td>number of the endpoint on which data is going to be sent </td></tr>
    <tr><td class="paramname">data</td><td>pointer to the data array which is going to be sent </td></tr>
    <tr><td class="paramname">packetLength</td><td>length of the data packet in bytes, can be larger than endpoint size, then we will have multiple transfers. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if the transfer is schedued, 0 if the buffer is already full with another transfer to process. </dd></dl>

</div>
</div>
<a id="acdb32d52f8fe4a7d197483f6af2ddfdf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acdb32d52f8fe4a7d197483f6af2ddfdf">&#9670;&nbsp;</a></span>USB_initiate_send_ctrl_zerobyte()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void USB_initiate_send_ctrl_zerobyte </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Used to prepare sending an zerobytepacket on the ctrl_in endpoint to the host. </p>
<p>Function sets the Data bits for the control_in_endpoint which needs to send data1 for a zerobyte data stage. The data bit for the control_in_endpoint is set to 0 in order to recieve the next setup packet which will be data0. </p>

</div>
</div>
<a id="adbaeef58c99804e85fce95570ea58af3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adbaeef58c99804e85fce95570ea58af3">&#9670;&nbsp;</a></span>USB_process_rx_tx()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void USB_process_rx_tx </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>epnum</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>function that handles passing data from and to the endpoint </p>
<p>Function is called when new data was recieved by an endpoint, or when a endpoint has transmitted all it's data and is possibly waiting for more data to transmit Since USB transfers might be larger then the endpoint size this function passes new data into the endpoint's buffers. <a class="el" href="usb_8h.html#a36119ca946f42c798f9221d97d53d95c" title="used to prepare sending data to the host The data is sent when the host starts polling the endpoint">USB_initiate_send()</a> is also calling this function which will start copying the data into the endpoint buffer. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">epnum</td><td>The endpoint which needs to get new data / has recieved new data. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ab7c011bd0989fdadba9768f10d6fd654"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7c011bd0989fdadba9768f10d6fd654">&#9670;&nbsp;</a></span>EP0_CFG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_u_s_b___e_p___c_o_n_f_i_g.html">USB_EP_CONFIG</a> EP0_CFG</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">={</div>
<div class="line">    .EP_STATE=EP_IN,</div>
<div class="line">    .EP_ADDR=0,</div>
<div class="line">    .EP_ISOCH=EP_NOT_ISOCHR</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ab136567e64c237a5e39d98ea9c91627f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab136567e64c237a5e39d98ea9c91627f">&#9670;&nbsp;</a></span>EP1_CFG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_u_s_b___e_p___c_o_n_f_i_g.html">USB_EP_CONFIG</a> EP1_CFG</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">={</div>
<div class="line">    .EP_STATE=EP_OUT,</div>
<div class="line">    .EP_ADDR=0,</div>
<div class="line">    .EP_ISOCH=EP_NOT_ISOCHR</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a0dea29d4b3411832bd9db8c06b432777"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0dea29d4b3411832bd9db8c06b432777">&#9670;&nbsp;</a></span>EP2_CFG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_u_s_b___e_p___c_o_n_f_i_g.html">USB_EP_CONFIG</a> EP2_CFG</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">={</div>
<div class="line">    .EP_STATE=EP_IN,</div>
<div class="line">    .EP_ADDR=1,</div>
<div class="line">    .EP_ISOCH=EP_NOT_ISOCHR</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a91914717e5dfc12c2891378a63f689f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91914717e5dfc12c2891378a63f689f7">&#9670;&nbsp;</a></span>EP3_CFG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_u_s_b___e_p___c_o_n_f_i_g.html">USB_EP_CONFIG</a> EP3_CFG</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">={</div>
<div class="line">    .EP_STATE=EP_OUT,</div>
<div class="line">    .EP_ADDR=1,</div>
<div class="line">    .EP_ISOCH=EP_NOT_ISOCHR</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a42dd116d43b23e0c949d5877bc94a5cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42dd116d43b23e0c949d5877bc94a5cc">&#9670;&nbsp;</a></span>EP4_CFG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_u_s_b___e_p___c_o_n_f_i_g.html">USB_EP_CONFIG</a> EP4_CFG</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">={</div>
<div class="line">    .EP_STATE=EP_IN,</div>
<div class="line">    .EP_ADDR=2,</div>
<div class="line">    .EP_ISOCH=EP_NOT_ISOCHR</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ac731b9779abfa39f9ee4c42cb12e54a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac731b9779abfa39f9ee4c42cb12e54a7">&#9670;&nbsp;</a></span>EP5_CFG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_u_s_b___e_p___c_o_n_f_i_g.html">USB_EP_CONFIG</a> EP5_CFG</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">={</div>
<div class="line">    .EP_STATE=EP_OUT,</div>
<div class="line">    .EP_ADDR=2,</div>
<div class="line">    .EP_ISOCH=EP_NOT_ISOCHR</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a714503d9b5e63114c8d117acb59c6ffa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a714503d9b5e63114c8d117acb59c6ffa">&#9670;&nbsp;</a></span>EP6_CFG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_u_s_b___e_p___c_o_n_f_i_g.html">USB_EP_CONFIG</a> EP6_CFG</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">={</div>
<div class="line">    .EP_STATE=EP_DISABELED,</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a id="acfdecc2caebc26a789336f47ac494dd2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acfdecc2caebc26a789336f47ac494dd2">&#9670;&nbsp;</a></span>EP7_CFG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_u_s_b___e_p___c_o_n_f_i_g.html">USB_EP_CONFIG</a> EP7_CFG</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">={</div>
<div class="line">    .EP_STATE=EP_DISABELED,</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_bfccd401955b95cf8c75461437045ac0.html">inc</a></li><li class="navelem"><a class="el" href="usb_8h.html">usb.h</a></li>
    <li class="footer">Generated on Thu Mar 26 2020 03:32:32 for ty71m by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
